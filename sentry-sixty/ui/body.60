import { MultilineEdit, FileBox } from "widgets.60";
import { Theme } from "theme.60";

struct Attachment := {
    name: string,
    contents: string,
}

export Body := VerticalLayout {
    property comment_label_text <=> comment_label.text;
    property comment_placeholder <=> comment_box.placeholder_text;
    property files_label_text <=> files_label.text;
    property<string> show_button_text;
    property<string> hide_button_text;
    property<[Attachment]> attachments;
    vertical_stretch: 1;
    padding: 32px;
    spacing: 8px;

    comment_label := Text {
        font_size: 14px;
        font_weight: 400;
        text: "Comment (optional)";
    }
    comment_box := MultilineEdit {
        placeholder_text: "It exploded on impact";
    }

    files_label := Text {
        font_size: 14px;
        font_weight: 400;
        text: "Files";
    }

    for file[index] in attachments: FileBox {
        file_name: file.name;
        file_contents: file.contents;
        show_button_text: root.show_button_text;
        hide_button_text: root.hide_button_text;
    }

    Rectangle {
        vertical_stretch: 1;
    }
}
